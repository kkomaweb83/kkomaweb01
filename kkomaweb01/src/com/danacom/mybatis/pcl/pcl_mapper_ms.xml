<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.danacom.mybatis.pcl.pcl_mapper_ms">
	
	<!-- 메인 상단 상품분류 조회 -->
	<select id="pclList" resultType="com.danacom.mybatis.pcl.ProClassVo" parameterType="String">
		SELECT     /* [danacom]_[pcl]_[PclTopListCommand.getPclList]_kkomaweb_20170508 */ 
			A.PCL_NO, A.PCL_NAME, A.PCL_STEP, A.PCL_BASIS
			, IFNULL(A.PCL_UPPERNO, 'NULL') PCL_UPPERNO
			, IFNULL(B.PCL_NAME, 'NULL') PA_PCL_NAME
		FROM PRO_CLASS A
        LEFT OUTER JOIN PRO_CLASS B ON A.PCL_UPPERNO = B.PCL_NO 
		WHERE A.PCL_UPPERNO = #{pcl_upperno}
		ORDER BY A.PCL_NO
	</select>
	
	<!-- 사용자 상품 리스트 상품분류명 조회 -->
	<select id="mainPclName" resultType="String" parameterType="String">
		SELECT     /* [danacom]_[pcl]_[ProTopSearchCommand.mainPclName]_kkomaweb_20170508 */ 
			PCL_NAME 
		FROM PRO_CLASS
		WHERE PCL_NO = #{pcl_no}
	</select>
	
</mapper>